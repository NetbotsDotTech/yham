import{r as s,aJ as h,j as e,B as r,aB as x,aC as f,T as j,aK as y}from"./index-aUPr_vfW.js";import{a as v}from"./axios-BWYlR7gC.js";import{T as u}from"./TextField-DjXQBAGH.js";import{B as C}from"./Button-BPdH7Qj3.js";import{C as w}from"./CircularProgress-Cz8zolK5.js";import"./Select-BSKXjHKu.js";const I=()=>{const[o,c]=s.useState(""),[n,g]=s.useState(""),[i,l]=s.useState(!1),p=h(),m=async()=>{var t,d;l(!0);try{const a=await v.post("http://localhost:5000/api/user/login",{email:o,password:n},{withCredentials:!0});localStorage.setItem("user",JSON.stringify(a.data)),p("/dashboard")}catch(a){console.error("Error logging in:",((d=(t=a.response)==null?void 0:t.data)==null?void 0:d.message)||a.message),alert("Invalid email or password. Please try again.")}finally{l(!1)}};return e.jsx(r,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",p:2,children:e.jsx(x,{sx:{width:{xs:"100%",sm:"400px"}},children:e.jsxs(f,{children:[e.jsx(j,{variant:"h5",gutterBottom:!0,children:"Login"}),e.jsxs(r,{component:"form",noValidate:!0,autoComplete:"off",mt:2,display:"flex",flexDirection:"column",gap:2,children:[e.jsx(u,{label:"Email Address",variant:"outlined",fullWidth:!0,value:o,onChange:t=>c(t.target.value),required:!0}),e.jsx(u,{label:"Password",type:"password",variant:"outlined",fullWidth:!0,value:n,onChange:t=>g(t.target.value),required:!0}),e.jsx(r,{display:"flex",justifyContent:"space-between",alignItems:"center",children:e.jsx(C,{variant:"contained",color:"primary",fullWidth:!0,onClick:m,disabled:i,children:i?e.jsx(w,{size:24,color:"inherit"}):"Login"})})]}),e.jsx(r,{mt:2,textAlign:"center",children:e.jsx(y,{href:"/forgot-password",variant:"body2",underline:"none",children:"Forgot Password?"})})]})})})};export{I as default};
